\usepackage{fancyhdr}

% Flag to indicate if the current chapter is unnumbered
\newif\ifunnumberedchapter
\unnumberedchapterfalse

% Set header height
\setlength{\headheight}{20pt}

% Fancy header style
\fancypagestyle{fancy}{
	\fancyhf{}
	\fancyhead[LE]{\thepage}
	\fancyhead[RO]{\thepage}
	\fancyhead[LO]{\leftmark}
	\fancyhead[RE]{\leftmark}
	\renewcommand{\headrulewidth}{0.4pt}
}

% Roman page style
\fancypagestyle{roman}{
	\fancyhf{}
	\fancyhead[LE]{\thepage}
	\fancyhead[RO]{\thepage}
	\fancyhead[LO]{\leftmark}
	\fancyhead[RE]{\leftmark}
	\renewcommand{\headrulewidth}{0.4pt}
}

% Arabic page style
\fancypagestyle{arabic}{
	\fancyhf{}
	\fancyhead[LE]{\thepage}
	\fancyhead[RO]{\thepage}
	\fancyhead[LO]{\leftmark}
	\fancyhead[RE]{\leftmark}
	\renewcommand{\headrulewidth}{0.4pt}
}

% No header style
\fancypagestyle{noheader}{
	\fancyhf{}
	\fancyfoot[C]{\thepage}
	\renewcommand{\headrulewidth}{0pt}
}
